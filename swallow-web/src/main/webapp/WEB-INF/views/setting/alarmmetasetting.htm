<div class="main-content" ng-controller="AlarmMetaController"
	id="AlarmMetaController">
	<div class="breadcrumbs" id="breadcrumbs">
		<script type="text/javascript"
			src="${rc.contextPath}/static/js/swallow-alarmmetasetting.js"></script>
		<script type="text/javascript">
			try {
				ace.settings.check('breadcrumbs', 'fixed')
			} catch (e) {
			}
		</script>
		<ul class="breadcrumb">
			<li class="active">告警元信息设置</li>
		</ul>
		<a class="pull-right breadcrumbs-btn" href="#myModal"
			ng-click="clearModal()" data-toggle="modal"><i class="icon-plus"></i></a>
	</div>
	<div class="page-content" id="container">
		<div class="row">
			<table
				class="table table-bordered table-striped  table-condensed table-hover">
				<tr>
					<td><input type="checkbox" id="check-all"></input></td>
					<th>编号</th>
					<th>类型</th>
					<th>短信</th>
					<th>微信</th>
					<th>邮件</th>
					<th>swallow组</th>
					<th>业务组</th>
					<th>标题</th>
					<th>操作</th>
				</tr>
				<tr ng-repeat="e in searchPaginator.currentPageItems">
					<td style="text-align: left"><input type="checkbox"
						name="check-list" value="{{e.metaId}}"></input></td>
					<td style="text-align: left">{{e.metaId}}</td>
					<td style="text-align: left"><a
						ng-href='${rc.contextPath}/console/setting/alarmmeta/detail/{{e.metaId}}'>{{e.type}}</a></td>
					<td style="text-align: left"><label> <input
							name="switch-field-1" class="ace ace-switch btn-rotate"
							ng-model="e.isSmsMode" type="checkbox"> <span class="lbl">
							
							</span>
					</label></td>
					<td style="text-align: left"><label> <input
							name="switch-field-1" class="ace ace-switch btn-rotate"
							ng-model="e.isWeiXinMode" type="checkbox"> <span class="lbl"></span>
					</label></td>
					<td style="text-align: left"><label> <input
							name="switch-field-1" class="ace ace-switch btn-rotate"
							ng-model="e.isMailMode" type="checkbox"> <span class="lbl"></span>
					</label></td>
					<td style="text-align: left"><label> <input
							name="switch-field-1" class="ace ace-switch btn-rotate"
							ng-model="e.isSendSwallow" type="checkbox"> <span class="lbl"></span>
					</label></td>
					<td style="text-align: left"><label> <input
							name="switch-field-1" class="ace ace-switch btn-rotate"
							ng-model="e.isSendBusiness" type="checkbox"> <span class="lbl"></span>
					</label></td>
					<td style="text-align: left">{{e.alarmTitle}}</td>
					<td style="text-align: left"><a href="#myModal"
						ng-click="setModalInput($index);" data-toggle="modal"
						class="edit-config-btn"><i class="icon-edit " rel="tooltip"
							data-original-title="编辑配置值"></i></a> <a href=""
						ng-click="dialog(e.metaId);" class="edit-config-btn"><i
							class="icon-remove" rel="tooltip" data-original-title="删除配置项"></i></a></td>
				</tr>
			</table>
			<ul style="margin-top: 20px;" class="pagination">
				<li><a href="" ng-click="searchPaginator.fetch(1)">首页</a></li>
				<li><a href="" ng-click="searchPaginator.previous()"
					ng-show="searchPaginator.hasPrevious()">上一页</a></li>
				<li ng-repeat="p in searchPaginator.pages"><a href=""
					ng-click="searchPaginator.fetch(p)" ng-bind="p"></a></li>
				<li class="disabled"><a href="javascript:;">...</a></li>

				<li><a href="" ng-click="searchPaginator.next()"
					ng-show="searchPaginator.hasNext()">下一页</a></li>

				<li><a href=""
					ng-click="searchPaginator.fetch(searchPaginator.endPage)">末页</a></li>
			</ul>
		</div>
	</div>


	<!-- 模态框（Modal） -->
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>
					<h4 class="modal-title" id="myModalLabel">编辑告警元信息</h4>
				</div>
				<div class="modal-body">
					<form method="post" class="form-horizontal" name="myForm"
						ng-submit="refreshpage(myForm)">
						<div class="col-xs-12 form-group">
							<label
								class="col-xs-3 control-label control-label no-padding-right">告警类型</label>
							<div class="col-xs-8">
								<select class="col-xs-12" ng-model="alarmMetaEntity.type"
									name="type" ng-options="o as o for o in types" required>
								</select>
							</div>
						</div>
						<div class="col-xs-12 form-group">
							<label
								class="col-xs-3 control-label control-label no-padding-right">告警级别</label>
							<div class="col-xs-8">
								<select class="col-xs-12" ng-model="alarmMetaEntity.levelType"
									name="levelType" ng-options="o as o for o in leveltypes"
									required>
								</select>
							</div>
						</div>
						<div class="col-xs-12 form-group">
							<label
								class="col-xs-3 control-label control-label no-padding-right">发送短信</label>
							<div class="col-xs-3">
								<select class="col-xs-12" ng-model="alarmMetaEntity.isSmsMode"
									name="isSmsMode" ng-options="o as o for o in booleans" required>
								</select>
							</div>
							<label class="col-xs-3 control-label control-label ">发送微信</label>
							<div class="col-xs-3">
								<select class="col-xs-12" name="isWeiXinMode"
									ng-model="alarmMetaEntity.isWeiXinMode"
									ng-options="o as o for o in booleans" required>
								</select>
							</div>
						</div>
						<div class="col-xs-12 form-group">
							<label
								class="col-xs-3 control-label control-label no-padding-right">发送邮件</label>
							<div class="col-xs-3">
								<select class="col-xs-12" name="isMailMode"
									ng-model="alarmMetaEntity.isMailMode"
									ng-options="o as o for o in booleans" required>
								</select>
							</div>
							<label
								class="col-xs-3 control-label control-label no-padding-right">发送Swallow组</label>
							<div class="col-xs-3">
								<select class="col-xs-12" name="isSendSwallow"
									ng-model="alarmMetaEntity.isSendSwallow"
									ng-options="o as o for o in booleans" required>
								</select>
							</div>
						</div>
						<div class="col-xs-12 form-group">
							<label
								class="col-xs-3 control-label control-label no-padding-right">发送业务组</label>
							<div class="col-xs-8">
								<select class="col-xs-12" name="isSendBusiness"
									ng-model="alarmMetaEntity.isSendBusiness"
									ng-options="o as o for o in booleans" required>
								</select>
							</div>
						</div>
						<div class="col-xs-12 form-group">
							<label
								class="col-xs-3 control-label control-label no-padding-right">标题</label>
							<div class="col-xs-8">
								<input type="text" class="form-control"
									ng-model="alarmMetaEntity.alarmTitle" name="alarmTitle"
									required> </input>
							</div>
						</div>
						<div class="col-xs-12 form-group">
							<label
								class="col-xs-3 control-label control-label no-padding-right">模版</label>
							<div class="col-xs-8">
								<input type="text" class="form-control"
									ng-model="alarmMetaEntity.alarmTemplate" name="alarmTemplate"
									required> </input>
							</div>
						</div>
						<div class="col-xs-12 form-group">
							<label
								class="col-xs-3 control-label control-label no-padding-right">详情</label>
							<div class="col-xs-8">
								<input type="text" class="form-control"
									ng-model="alarmMetaEntity.alarmDetail" name="alarmDetail">
								</input>
							</div>
						</div>
						<div class="col-xs-12 form-group">
							<label
								class="col-xs-3 control-label control-label no-padding-right">白天间隔基数</label>
							<div class="col-xs-3">
								<input type="text" class="form-control"
									ng-model="alarmMetaEntity.daySpanBase" name="daySpanRatio"
									required> </input>
							</div>
							<label
								class="col-xs-3 control-label control-label no-padding-right">夜晚间隔基数</label>
							<div class="col-xs-3">
								<input type="text" class="form-control"
									ng-model="alarmMetaEntity.nightSpanBase" name="nightSpanRatio"
									required> </input>
							</div>
						</div>
						<div class="col-xs-12 form-group">
							<label
								class="col-xs-3 control-label control-label no-padding-right">间隔上限</label>
							<div class="col-xs-8">
								<input type="text" class="form-control"
									ng-model="alarmMetaEntity.maxTimeSpan" name="maxTimeSpan"
									required> </input>
							</div>
						</div>
						<div class="control-group"
							style="margin-top: 20px; text-align: center;">
							<div class="controls">
								<button type="button" class="btn btn-default"
									data-dismiss="modal">关闭</button>
								<button type="submit" class="btn btn-success">提交</button>
							</div>
						</div>
					</form>
				</div>

			</div>
		</div>
		<!-- /.modal-content -->
	</div>
	<!-- /.modal -->
</div>
